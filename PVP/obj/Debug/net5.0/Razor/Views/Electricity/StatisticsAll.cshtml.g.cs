#pragma checksum "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "802725c81ca3d0f9b513f28fb8f8891387bc07c5"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Electricity_StatisticsAll), @"mvc.1.0.view", @"/Views/Electricity/StatisticsAll.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\gladi\Desktop\PVP4\PVP\Views\_ViewImports.cshtml"
using PVP;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\gladi\Desktop\PVP4\PVP\Views\_ViewImports.cshtml"
using PVP.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"802725c81ca3d0f9b513f28fb8f8891387bc07c5", @"/Views/Electricity/StatisticsAll.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"515599754656d7c7b5946e8eeb61be2ba9152c82", @"/Views/_ViewImports.cshtml")]
    public class Views_Electricity_StatisticsAll : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<PVP.Models.Info>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
  
    ViewData["Title"] = "Statistics";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"

<div class=""center-container-wider"">
    <h1 class=""center-text-title"">Statistika</h1>

    <p class=""container-text"">Lorem ipsum.</p>
    <button onclick=""test();"">SHOW</button>
    <canvas id=""myChart"" style=""width:100%;max-width:500px""></canvas>

");
#nullable restore
#line 14 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
     if (Model.Count() != 0)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"        <table class=""table table-hover"" id=""table-realtime"">
            <colgroup>
                <col span=""1"" style=""width: 40%;"">
                <col span=""1"" style=""width: 40%;"">
                <col span=""1"" style=""width: 15%;"">
                <col span=""1"" style=""width: 5%;"">
            </colgroup>
            <tbody>
");
#nullable restore
#line 24 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                 foreach (var item in Model)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <tr class=\"table-main\" style=\"font-size: 14px;\">\r\n\r\n");
#nullable restore
#line 28 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                         if (item.FkDevice.Tag == null || item.FkDevice.Tag == "")
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <td style=\"color: darkgray\">Įrenginys ");
#nullable restore
#line 30 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                                                             Write(item.FkDevice.SetupString);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n");
#nullable restore
#line 31 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                        }
                        else
                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <td>");
#nullable restore
#line 34 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                           Write(item.FkDevice.Tag);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n");
#nullable restore
#line 35 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <td>");
#nullable restore
#line 36 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                       Write(item.DateTime);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                        <td>");
#nullable restore
#line 37 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                       Write(item.Wattage);

#line default
#line hidden
#nullable disable
            WriteLiteral("</td>\r\n                        <td><button");
            BeginWriteAttribute("onclick", " onclick=\"", 1368, "\"", 1399, 3);
            WriteAttributeValue("", 1378, "removeEntry(", 1378, 12, true);
#nullable restore
#line 38 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
WriteAttributeValue("", 1390, item.Id, 1390, 8, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1398, ")", 1398, 1, true);
            EndWriteAttribute();
            WriteLiteral("><span title=\"Pašalinti įrašą\" class=\"glyphicon glyphicon-trash\"></span></button></td>\r\n                    </tr>\r\n");
#nullable restore
#line 40 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("            </tbody>\r\n        </table>\r\n");
#nullable restore
#line 43 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
    }
    else
    {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <p class=\"error-text\">Elektros sunaudojimo istorijos sąrašas tuščias.</p>\r\n");
#nullable restore
#line 47 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</div>




<script src=""https://cdn.jsdelivr.net/npm/chart.js@3.6.0/dist/chart.min.js""></script>
<script type=""text/javascript"">

    function removeEntry(info_id) {
        Swal.fire({
            icon: 'warning',
            title: 'Ar tikrai norite ištrinti šį įrašą?',
            text: 'Ištrintų elektros sunaudojimo įrašų negalima atkurti.',
            showCancelButton: true,
            confirmButtonText: 'Ištrinti',
            cancelButtonText: 'Atšaukti',
            showLoaderOnConfirm: true,
            preConfirm: (tr) => {
                var tagjson = JSON.stringify({ id: info_id, value: '' });
                $.ajax({
                    type: ""POST"",
                    url: """);
#nullable restore
#line 69 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
                     Write(Url.Action("RemoveEntry", "Electricity"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
                    contentType: ""application/json; charset=utf-8"",
                    data: tagjson,
                    success: function () {
                        Swal.fire({
                            icon: 'success',
                            title: 'Įrašas ištrintas.',
                            confirmButtonText: 'Gerai',
                        }).then((result) => {
                            location.reload();
                        })
                    },
                    error: function () {
                        Swal.fire('Klaida.')
                    }
                });

            },
            allowOutsideClick: () => !Swal.isLoading()
        })
    }




    function test() {


        $.ajax({
            type: ""GET"",
            url: """);
#nullable restore
#line 99 "C:\Users\gladi\Desktop\PVP4\PVP\Views\Electricity\StatisticsAll.cshtml"
             Write(Url.Action("GetStatistics", "Electricity"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""",
            contentType: ""application/json; charset=utf-8"",
            data: { device_id: 1, interval: 110 },
            success: function (response) {

                var labels = response.map(function (e) {
                    return e.date;
                });
                var values = response.map(function (e) {
                    return e.wattage;
                });;

                new Chart(""myChart"", {
                    type: ""bar"",
                    data: {
                        labels: labels,
                        datasets: [{
                            data: values,
                            borderColor: ""blue"",
                            fill: false
                        }]
                    },
                    options: {
                        legend: { display: false }
                    }
                });
            },
            error: function () {
                Swal.fire('Klaida.')
            }
        });


    }

");
            WriteLiteral("\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<PVP.Models.Info>> Html { get; private set; }
    }
}
#pragma warning restore 1591
